!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("core-js/es/string/starts-with"),require("core-js/es/symbol"),require("core-js/es/array/from"),require("core-js/es/typed-array/slice"),require("core-js/es/array/includes"),require("core-js/es/string/includes"),require("core-js/es/set"),require("fast-text-encoding"),require("abortcontroller-polyfill/dist/abortcontroller-polyfill-only")):"function"==typeof define&&define.amd?define(["core-js/es/string/starts-with","core-js/es/symbol","core-js/es/array/from","core-js/es/typed-array/slice","core-js/es/array/includes","core-js/es/string/includes","core-js/es/set","fast-text-encoding","abortcontroller-polyfill/dist/abortcontroller-polyfill-only"],t):(e="undefined"!=typeof globalThis?globalThis:e||self).createAuth0Client=t()}(this,(function(){"use strict";var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};function t(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}var n=function(){return n=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)};function o(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]])}return n}function i(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{c(o.next(e))}catch(e){r(e)}}function a(e){try{c(o.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((o=o.apply(e,t||[])).next())}))}function r(e,t){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}}function s(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,i,r=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(e){i={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return s}function a(e,t,n){if(n||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)!o&&i in t||(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return e.concat(o||Array.prototype.slice.call(t))}function c(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){return t.reject(n)}))}))}function u(e){return new this((function(t,n){if(!e||void 0===e.length)return n(new TypeError(typeof e+" "+e+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var o=Array.prototype.slice.call(e);if(0===o.length)return t([]);var i=o.length;function r(e,n){if(n&&("object"==typeof n||"function"==typeof n)){var s=n.then;if("function"==typeof s)return void s.call(n,(function(t){r(e,t)}),(function(n){o[e]={status:"rejected",reason:n},0==--i&&t(o)}))}o[e]={status:"fulfilled",value:n},0==--i&&t(o)}for(var s=0;s<o.length;s++)r(s,o[s])}))}var l=setTimeout;function d(e){return Boolean(e&&void 0!==e.length)}function h(){}function p(e){if(!(this instanceof p))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],w(e,this)}function f(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,p._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var o;try{o=n(e._value)}catch(e){return void y(t.promise,e)}m(t.promise,o)}else(1===e._state?m:y)(t.promise,e._value)}))):e._deferreds.push(t)}function m(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof p)return e._state=3,e._value=t,void v(e);if("function"==typeof n)return void w((o=n,i=t,function(){o.apply(i,arguments)}),e)}e._state=1,e._value=t,v(e)}catch(t){y(e,t)}var o,i}function y(e,t){e._state=2,e._value=t,v(e)}function v(e){2===e._state&&0===e._deferreds.length&&p._immediateFn((function(){e._handled||p._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)f(e,e._deferreds[t]);e._deferreds=null}function b(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function w(e,t){var n=!1;try{e((function(e){n||(n=!0,m(t,e))}),(function(e){n||(n=!0,y(t,e))}))}catch(e){if(n)return;n=!0,y(t,e)}}p.prototype.catch=function(e){return this.then(null,e)},p.prototype.then=function(e,t){var n=new this.constructor(h);return f(this,new b(e,t,n)),n},p.prototype.finally=c,p.all=function(e){return new p((function(t,n){if(!d(e))return n(new TypeError("Promise.all accepts an array"));var o=Array.prototype.slice.call(e);if(0===o.length)return t([]);var i=o.length;function r(e,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var a=s.then;if("function"==typeof a)return void a.call(s,(function(t){r(e,t)}),n)}o[e]=s,0==--i&&t(o)}catch(e){n(e)}}for(var s=0;s<o.length;s++)r(s,o[s])}))},p.allSettled=u,p.resolve=function(e){return e&&"object"==typeof e&&e.constructor===p?e:new p((function(t){t(e)}))},p.reject=function(e){return new p((function(t,n){n(e)}))},p.race=function(e){return new p((function(t,n){if(!d(e))return n(new TypeError("Promise.race accepts an array"));for(var o=0,i=e.length;o<i;o++)p.resolve(e[o]).then(t,n)}))},p._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){l(e,0)},p._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var g=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}();"function"!=typeof g.Promise?g.Promise=p:(g.Promise.prototype.finally||(g.Promise.prototype.finally=c),g.Promise.allSettled||(g.Promise.allSettled=u));var k="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function _(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function S(e,t){return e(t={exports:{}},t.exports),t.exports}var I=S((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){var e=this;this.locked=new Map,this.addToLocked=function(t,n){var o=e.locked.get(t);void 0===o?void 0===n?e.locked.set(t,[]):e.locked.set(t,[n]):void 0!==n&&(o.unshift(n),e.locked.set(t,o))},this.isLocked=function(t){return e.locked.has(t)},this.lock=function(t){return new Promise((function(n,o){e.isLocked(t)?e.addToLocked(t,n):(e.addToLocked(t),n())}))},this.unlock=function(t){var n=e.locked.get(t);if(void 0!==n&&0!==n.length){var o=n.pop();e.locked.set(t,n),void 0!==o&&setTimeout(o,0)}else e.locked.delete(t)}}return e.getInstance=function(){return void 0===e.instance&&(e.instance=new e),e.instance},e}();t.default=function(){return n.getInstance()}}));_(I);var C=S((function(e,t){var n=k&&k.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{c(o.next(e))}catch(e){r(e)}}function a(e){try{c(o.throw(e))}catch(e){r(e)}}function c(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(s,a)}c((o=o.apply(e,t||[])).next())}))},o=k&&k.__generator||function(e,t){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var i="browser-tabs-lock-key";function r(e){return new Promise((function(t){return setTimeout(t,e)}))}function s(e){for(var t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",n="",o=0;o<e;o++){n+=t[Math.floor(Math.random()*t.length)]}return n}var a=function(){function e(){this.acquiredIatSet=new Set,this.id=Date.now().toString()+s(15),this.acquireLock=this.acquireLock.bind(this),this.releaseLock=this.releaseLock.bind(this),this.releaseLock__private__=this.releaseLock__private__.bind(this),this.waitForSomethingToChange=this.waitForSomethingToChange.bind(this),this.refreshLockWhileAcquired=this.refreshLockWhileAcquired.bind(this),void 0===e.waiters&&(e.waiters=[])}return e.prototype.acquireLock=function(t,a){return void 0===a&&(a=5e3),n(this,void 0,void 0,(function(){var n,c,u,l,d,h;return o(this,(function(o){switch(o.label){case 0:n=Date.now()+s(4),c=Date.now()+a,u=i+"-"+t,l=window.localStorage,o.label=1;case 1:return Date.now()<c?[4,r(30)]:[3,8];case 2:return o.sent(),null!==l.getItem(u)?[3,5]:(d=this.id+"-"+t+"-"+n,[4,r(Math.floor(25*Math.random()))]);case 3:return o.sent(),l.setItem(u,JSON.stringify({id:this.id,iat:n,timeoutKey:d,timeAcquired:Date.now(),timeRefreshed:Date.now()})),[4,r(30)];case 4:return o.sent(),null!==(h=l.getItem(u))&&(h=JSON.parse(h)).id===this.id&&h.iat===n?(this.acquiredIatSet.add(n),this.refreshLockWhileAcquired(u,n),[2,!0]):[3,7];case 5:return e.lockCorrector(),[4,this.waitForSomethingToChange(c)];case 6:o.sent(),o.label=7;case 7:return n=Date.now()+s(4),[3,1];case 8:return[2,!1]}}))}))},e.prototype.refreshLockWhileAcquired=function(e,t){return n(this,void 0,void 0,(function(){var i=this;return o(this,(function(r){return setTimeout((function(){return n(i,void 0,void 0,(function(){var n,i;return o(this,(function(o){switch(o.label){case 0:return[4,I.default().lock(t)];case 1:return o.sent(),this.acquiredIatSet.has(t)?(n=window.localStorage,null===(i=n.getItem(e))?(I.default().unlock(t),[2]):((i=JSON.parse(i)).timeRefreshed=Date.now(),n.setItem(e,JSON.stringify(i)),I.default().unlock(t),this.refreshLockWhileAcquired(e,t),[2])):(I.default().unlock(t),[2])}}))}))}),1e3),[2]}))}))},e.prototype.waitForSomethingToChange=function(t){return n(this,void 0,void 0,(function(){return o(this,(function(n){switch(n.label){case 0:return[4,new Promise((function(n){var o=!1,i=Date.now(),r=!1;function s(){if(r||(window.removeEventListener("storage",s),e.removeFromWaiting(s),clearTimeout(a),r=!0),!o){o=!0;var t=50-(Date.now()-i);t>0?setTimeout(n,t):n()}}window.addEventListener("storage",s),e.addToWaiting(s);var a=setTimeout(s,Math.max(0,t-Date.now()))}))];case 1:return n.sent(),[2]}}))}))},e.addToWaiting=function(t){this.removeFromWaiting(t),void 0!==e.waiters&&e.waiters.push(t)},e.removeFromWaiting=function(t){void 0!==e.waiters&&(e.waiters=e.waiters.filter((function(e){return e!==t})))},e.notifyWaiters=function(){void 0!==e.waiters&&e.waiters.slice().forEach((function(e){return e()}))},e.prototype.releaseLock=function(e){return n(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,this.releaseLock__private__(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.releaseLock__private__=function(t){return n(this,void 0,void 0,(function(){var n,r,s;return o(this,(function(o){switch(o.label){case 0:return n=window.localStorage,r=i+"-"+t,null===(s=n.getItem(r))?[2]:(s=JSON.parse(s)).id!==this.id?[3,2]:[4,I.default().lock(s.iat)];case 1:o.sent(),this.acquiredIatSet.delete(s.iat),n.removeItem(r),I.default().unlock(s.iat),e.notifyWaiters(),o.label=2;case 2:return[2]}}))}))},e.lockCorrector=function(){for(var t=Date.now()-5e3,n=window.localStorage,o=Object.keys(n),r=!1,s=0;s<o.length;s++){var a=o[s];if(a.includes(i)){var c=n.getItem(a);null!==c&&(void 0===(c=JSON.parse(c)).timeRefreshed&&c.timeAcquired<t||void 0!==c.timeRefreshed&&c.timeRefreshed<t)&&(n.removeItem(a),r=!0)}}r&&e.notifyWaiters()},e.waiters=void 0,e}();t.default=a})),Z=_(C),x={timeoutInSeconds:60},W="memory",X=["login_required","consent_required","interaction_required","account_selection_required","access_denied"],G={name:"auth0-spa-js",version:"1.22.6"},L=function(){return Date.now()},T=function(e){function n(t,o){var i=e.call(this,o)||this;return i.error=t,i.error_description=o,Object.setPrototypeOf(i,n.prototype),i}return t(n,e),n.fromPayload=function(e){return new n(e.error,e.error_description)},n}(Error),K=function(e){function n(t,o,i,r){void 0===r&&(r=null);var s=e.call(this,t,o)||this;return s.state=i,s.appState=r,Object.setPrototypeOf(s,n.prototype),s}return t(n,e),n}(T),j=function(e){function n(){var t=e.call(this,"timeout","Timeout")||this;return Object.setPrototypeOf(t,n.prototype),t}return t(n,e),n}(T),R=function(e){function n(t){var o=e.call(this)||this;return o.popup=t,Object.setPrototypeOf(o,n.prototype),o}return t(n,e),n}(j),H=function(e){function n(t){var o=e.call(this,"cancelled","Popup closed")||this;return o.popup=t,Object.setPrototypeOf(o,n.prototype),o}return t(n,e),n}(T),J=function(e){function n(t,o,i){var r=e.call(this,t,o)||this;return r.mfa_token=i,Object.setPrototypeOf(r,n.prototype),r}return t(n,e),n}(T),V=function(e){function n(t,o){var i=e.call(this,"missing_refresh_token","Missing Refresh Token (audience: '".concat(M(t,["default"]),"', scope: '").concat(M(o),"')"))||this;return i.audience=t,i.scope=o,Object.setPrototypeOf(i,n.prototype),i}return t(n,e),n}(T),Y=function(e){return new Promise((function(t,n){var o,i=setInterval((function(){e.popup&&e.popup.closed&&(clearInterval(i),clearTimeout(r),window.removeEventListener("message",o,!1),n(new H(e.popup)))}),1e3),r=setTimeout((function(){clearInterval(i),n(new R(e.popup)),window.removeEventListener("message",o,!1)}),1e3*(e.timeoutInSeconds||60));o=function(s){if(s.data&&"authorization_response"===s.data.type){if(clearTimeout(r),clearInterval(i),window.removeEventListener("message",o,!1),e.popup.close(),s.data.response.error)return n(T.fromPayload(s.data.response));t(s.data.response)}},window.addEventListener("message",o)}))},N=function(){return window.crypto||window.msCrypto},F=function(){var e=N();return e.subtle||e.webkitSubtle},U=function(){var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_~.",t="";return Array.from(N().getRandomValues(new Uint8Array(43))).forEach((function(n){return t+=e[n%e.length]})),t},P=function(e){return btoa(e)},z=function(e){return Object.keys(e).filter((function(t){return void 0!==e[t]})).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&")},O=function(e){return i(void 0,void 0,void 0,(function(){var t;return r(this,(function(n){switch(n.label){case 0:return t=F().digest({name:"SHA-256"},(new TextEncoder).encode(e)),window.msCrypto?[2,new Promise((function(e,n){t.oncomplete=function(t){e(t.target.result)},t.onerror=function(e){n(e.error)},t.onabort=function(){n("The digest operation was aborted")}}))]:[4,t];case 1:return[2,n.sent()]}}))}))},D=function(e){return function(e){return decodeURIComponent(atob(e).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""))}(e.replace(/_/g,"/").replace(/-/g,"+"))},E=function(e){var t=new Uint8Array(e);return function(e){var t={"+":"-","/":"_","=":""};return e.replace(/[+/=]/g,(function(e){return t[e]}))}(window.btoa(String.fromCharCode.apply(String,a([],s(Array.from(t)),!1))))};function M(e,t){return void 0===t&&(t=[]),e&&!t.includes(e)?e:""}var A=function(e,t){return i(void 0,void 0,void 0,(function(){var n,o;return r(this,(function(i){switch(i.label){case 0:return[4,(r=e,s=t,s=s||{},new Promise((function(e,t){var n=new XMLHttpRequest,o=[],i=[],a={},c=function(){return{ok:2==(n.status/100|0),statusText:n.statusText,status:n.status,url:n.responseURL,text:function(){return Promise.resolve(n.responseText)},json:function(){return Promise.resolve(n.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([n.response]))},clone:c,headers:{keys:function(){return o},entries:function(){return i},get:function(e){return a[e.toLowerCase()]},has:function(e){return e.toLowerCase()in a}}}};for(var u in n.open(s.method||"get",r,!0),n.onload=function(){n.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(e,t,n){o.push(t=t.toLowerCase()),i.push([t,n]),a[t]=a[t]?a[t]+","+n:n})),e(c())},n.onerror=t,n.withCredentials="include"==s.credentials,s.headers)n.setRequestHeader(u,s.headers[u]);n.send(s.body||null)})))];case 1:return n=i.sent(),o={ok:n.ok},[4,n.json()];case 2:return[2,(o.json=i.sent(),o)]}var r,s}))}))},B=function(e,t,n){return i(void 0,void 0,void 0,(function(){var o,i;return r(this,(function(r){return o=new AbortController,t.signal=o.signal,[2,Promise.race([A(e,t),new Promise((function(e,t){i=setTimeout((function(){o.abort(),t(new Error("Timeout when executing 'fetch'"))}),n)}))]).finally((function(){clearTimeout(i)}))]}))}))},q=function(e,t,n,o,s,a,c){return i(void 0,void 0,void 0,(function(){return r(this,(function(i){return[2,(r={auth:{audience:t,scope:n},timeout:s,fetchUrl:e,fetchOptions:o,useFormData:c},u=a,new Promise((function(e,t){var n=new MessageChannel;n.port1.onmessage=function(o){o.data.error?t(new Error(o.data.error)):e(o.data),n.port1.close()},u.postMessage(r,[n.port2])})))];var r,u}))}))},Q=function(e,t,n,o,s,a,c){return void 0===c&&(c=1e4),i(void 0,void 0,void 0,(function(){return r(this,(function(i){return s?[2,q(e,t,n,o,c,s,a)]:[2,B(e,o,c)]}))}))};function $(e,t,n,s,a,c,u){return i(this,void 0,void 0,(function(){var i,l,d,h,p,f,m,y,v;return r(this,(function(r){switch(r.label){case 0:i=null,d=0,r.label=1;case 1:if(!(d<3))return[3,6];r.label=2;case 2:return r.trys.push([2,4,,5]),[4,Q(e,n,s,a,c,u,t)];case 3:return l=r.sent(),i=null,[3,6];case 4:return h=r.sent(),i=h,[3,5];case 5:return d++,[3,1];case 6:if(i)throw i.message=i.message||"Failed to fetch",i;if(p=l.json,f=p.error,m=p.error_description,y=o(p,["error","error_description"]),!l.ok){if(v=m||"HTTP error. Unable to fetch ".concat(e),"mfa_required"===f)throw new J(f,v,y.mfa_token);throw new T(f||"request_error",v)}return[2,y]}}))}))}function ee(e,t){var n=e.baseUrl,s=e.timeout,a=e.audience,c=e.scope,u=e.auth0Client,l=e.useFormData,d=o(e,["baseUrl","timeout","audience","scope","auth0Client","useFormData"]);return i(this,void 0,void 0,(function(){var e;return r(this,(function(o){switch(o.label){case 0:return e=l?z(d):JSON.stringify(d),[4,$("".concat(n,"/oauth/token"),s,a||"default",c,{method:"POST",body:e,headers:{"Content-Type":l?"application/x-www-form-urlencoded":"application/json","Auth0-Client":btoa(JSON.stringify(u||G))}},t,l)];case 1:return[2,o.sent()]}}))}))}var te=function(e){return Array.from(new Set(e))},ne=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return te(e.join(" ").trim().split(/\s+/)).join(" ")},oe="@@auth0spajs@@",ie=function(){function e(e,t){void 0===t&&(t=oe),this.prefix=t,this.client_id=e.client_id,this.scope=e.scope,this.audience=e.audience}return e.prototype.toKey=function(){return"".concat(this.prefix,"::").concat(this.client_id,"::").concat(this.audience,"::").concat(this.scope)},e.fromKey=function(t){var n=s(t.split("::"),4),o=n[0],i=n[1],r=n[2];return new e({client_id:i,scope:n[3],audience:r},o)},e.fromCacheEntry=function(t){return new e({scope:t.scope,audience:t.audience,client_id:t.client_id})},e}(),re=function(){function e(){}return e.prototype.set=function(e,t){localStorage.setItem(e,JSON.stringify(t))},e.prototype.get=function(e){var t=window.localStorage.getItem(e);if(t)try{return JSON.parse(t)}catch(e){return}},e.prototype.remove=function(e){localStorage.removeItem(e)},e.prototype.allKeys=function(){return Object.keys(window.localStorage).filter((function(e){return e.startsWith(oe)}))},e}(),se=function(){var e;this.enclosedCache=(e={},{set:function(t,n){e[t]=n},get:function(t){var n=e[t];if(n)return n},remove:function(t){delete e[t]},allKeys:function(){return Object.keys(e)}})},ae=function(){function e(e,t,n){this.cache=e,this.keyManifest=t,this.nowProvider=n,this.nowProvider=this.nowProvider||L}return e.prototype.get=function(e,t){var n;return void 0===t&&(t=0),i(this,void 0,void 0,(function(){var o,i,s,a,c;return r(this,(function(r){switch(r.label){case 0:return[4,this.cache.get(e.toKey())];case 1:return(o=r.sent())?[3,4]:[4,this.getCacheKeys()];case 2:return(i=r.sent())?(s=this.matchExistingCacheKey(e,i))?[4,this.cache.get(s)]:[3,4]:[2];case 3:o=r.sent(),r.label=4;case 4:return o?[4,this.nowProvider()]:[2];case 5:return a=r.sent(),c=Math.floor(a/1e3),o.expiresAt-t<c?o.body.refresh_token?(o.body={refresh_token:o.body.refresh_token},[4,this.cache.set(e.toKey(),o)]):[3,7]:[3,10];case 6:return r.sent(),[2,o.body];case 7:return[4,this.cache.remove(e.toKey())];case 8:return r.sent(),[4,null===(n=this.keyManifest)||void 0===n?void 0:n.remove(e.toKey())];case 9:return r.sent(),[2];case 10:return[2,o.body]}}))}))},e.prototype.set=function(e){var t;return i(this,void 0,void 0,(function(){var n,o;return r(this,(function(i){switch(i.label){case 0:return n=new ie({client_id:e.client_id,scope:e.scope,audience:e.audience}),[4,this.wrapCacheEntry(e)];case 1:return o=i.sent(),[4,this.cache.set(n.toKey(),o)];case 2:return i.sent(),[4,null===(t=this.keyManifest)||void 0===t?void 0:t.add(n.toKey())];case 3:return i.sent(),[2]}}))}))},e.prototype.clear=function(e){var t;return i(this,void 0,void 0,(function(){var n,o=this;return r(this,(function(s){switch(s.label){case 0:return[4,this.getCacheKeys()];case 1:return(n=s.sent())?[4,n.filter((function(t){return!e||t.includes(e)})).reduce((function(e,t){return i(o,void 0,void 0,(function(){return r(this,(function(n){switch(n.label){case 0:return[4,e];case 1:return n.sent(),[4,this.cache.remove(t)];case 2:return n.sent(),[2]}}))}))}),Promise.resolve())]:[2];case 2:return s.sent(),[4,null===(t=this.keyManifest)||void 0===t?void 0:t.clear()];case 3:return s.sent(),[2]}}))}))},e.prototype.clearSync=function(e){var t=this,n=this.cache.allKeys();n&&n.filter((function(t){return!e||t.includes(e)})).forEach((function(e){t.cache.remove(e)}))},e.prototype.wrapCacheEntry=function(e){return i(this,void 0,void 0,(function(){var t,n,o;return r(this,(function(i){switch(i.label){case 0:return[4,this.nowProvider()];case 1:return t=i.sent(),n=Math.floor(t/1e3)+e.expires_in,o=Math.min(n,e.decodedToken.claims.exp),[2,{body:e,expiresAt:o}]}}))}))},e.prototype.getCacheKeys=function(){var e;return i(this,void 0,void 0,(function(){var t;return r(this,(function(n){switch(n.label){case 0:return this.keyManifest?[4,this.keyManifest.get()]:[3,2];case 1:return t=null===(e=n.sent())||void 0===e?void 0:e.keys,[3,4];case 2:return[4,this.cache.allKeys()];case 3:t=n.sent(),n.label=4;case 4:return[2,t]}}))}))},e.prototype.matchExistingCacheKey=function(e,t){return t.filter((function(t){var n=ie.fromKey(t),o=new Set(n.scope&&n.scope.split(" ")),i=e.scope.split(" "),r=n.scope&&i.reduce((function(e,t){return e&&o.has(t)}),!0);return n.prefix===oe&&n.client_id===e.client_id&&n.audience===e.audience&&r}))[0]},e}(),ce=function(){function e(e,t){this.storage=e,this.clientId=t,this.storageKey="".concat("a0.spajs.txs",".").concat(this.clientId),this.transaction=this.storage.get(this.storageKey)}return e.prototype.create=function(e){this.transaction=e,this.storage.save(this.storageKey,e,{daysUntilExpire:1})},e.prototype.get=function(){return this.transaction},e.prototype.remove=function(){delete this.transaction,this.storage.remove(this.storageKey)},e}(),ue=function(e){return"number"==typeof e},le=["iss","aud","exp","nbf","iat","jti","azp","nonce","auth_time","at_hash","c_hash","acr","amr","sub_jwk","cnf","sip_from_tag","sip_date","sip_callid","sip_cseq_num","sip_via_branch","orig","dest","mky","events","toe","txn","rph","sid","vot","vtm"],de=function(e){if(!e.id_token)throw new Error("ID token is required but missing");var t=function(e){var t=e.split("."),n=s(t,3),o=n[0],i=n[1],r=n[2];if(3!==t.length||!o||!i||!r)throw new Error("ID token could not be decoded");var a=JSON.parse(D(i)),c={__raw:e},u={};return Object.keys(a).forEach((function(e){c[e]=a[e],le.includes(e)||(u[e]=a[e])})),{encoded:{header:o,payload:i,signature:r},header:JSON.parse(D(o)),claims:c,user:u}}(e.id_token);if(!t.claims.iss)throw new Error("Issuer (iss) claim must be a string present in the ID token");if(t.claims.iss!==e.iss)throw new Error('Issuer (iss) claim mismatch in the ID token; expected "'.concat(e.iss,'", found "').concat(t.claims.iss,'"'));if(!t.user.sub)throw new Error("Subject (sub) claim must be a string present in the ID token");if("RS256"!==t.header.alg)throw new Error('Signature algorithm of "'.concat(t.header.alg,'" is not supported. Expected the ID token to be signed with "RS256".'));if(!t.claims.aud||"string"!=typeof t.claims.aud&&!Array.isArray(t.claims.aud))throw new Error("Audience (aud) claim must be a string or array of strings present in the ID token");if(Array.isArray(t.claims.aud)){if(!t.claims.aud.includes(e.aud))throw new Error('Audience (aud) claim mismatch in the ID token; expected "'.concat(e.aud,'" but was not one of "').concat(t.claims.aud.join(", "),'"'));if(t.claims.aud.length>1){if(!t.claims.azp)throw new Error("Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values");if(t.claims.azp!==e.aud)throw new Error('Authorized Party (azp) claim mismatch in the ID token; expected "'.concat(e.aud,'", found "').concat(t.claims.azp,'"'))}}else if(t.claims.aud!==e.aud)throw new Error('Audience (aud) claim mismatch in the ID token; expected "'.concat(e.aud,'" but found "').concat(t.claims.aud,'"'));if(e.nonce){if(!t.claims.nonce)throw new Error("Nonce (nonce) claim must be a string present in the ID token");if(t.claims.nonce!==e.nonce)throw new Error('Nonce (nonce) claim mismatch in the ID token; expected "'.concat(e.nonce,'", found "').concat(t.claims.nonce,'"'))}if(e.max_age&&!ue(t.claims.auth_time))throw new Error("Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified");if(!ue(t.claims.exp))throw new Error("Expiration Time (exp) claim must be a number present in the ID token");if(!ue(t.claims.iat))throw new Error("Issued At (iat) claim must be a number present in the ID token");var n=e.leeway||60,o=new Date(e.now||Date.now()),i=new Date(0),r=new Date(0),a=new Date(0);if(a.setUTCSeconds(parseInt(t.claims.auth_time)+e.max_age+n),i.setUTCSeconds(t.claims.exp+n),r.setUTCSeconds(t.claims.nbf-n),o>i)throw new Error("Expiration Time (exp) claim error in the ID token; current time (".concat(o,") is after expiration time (").concat(i,")"));if(ue(t.claims.nbf)&&o<r)throw new Error("Not Before time (nbf) claim in the ID token indicates that this token can't be used just yet. Currrent time (".concat(o,") is before ").concat(r));if(ue(t.claims.auth_time)&&o>a)throw new Error("Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Currrent time (".concat(o,") is after last auth at ").concat(a));if(e.organizationId){if(!t.claims.org_id)throw new Error("Organization ID (org_id) claim must be a string present in the ID token");if(e.organizationId!==t.claims.org_id)throw new Error('Organization ID (org_id) claim mismatch in the ID token; expected "'.concat(e.organizationId,'", found "').concat(t.claims.org_id,'"'))}return t},he=S((function(e,t){var n=k&&k.__assign||function(){return n=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)};function o(e,t){if(!t)return"";var n="; "+e;return!0===t?n:n+"="+t}function i(e,t,n){return encodeURIComponent(e).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/\(/g,"%28").replace(/\)/g,"%29")+"="+encodeURIComponent(t).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)+function(e){if("number"==typeof e.expires){var t=new Date;t.setMilliseconds(t.getMilliseconds()+864e5*e.expires),e.expires=t}return o("Expires",e.expires?e.expires.toUTCString():"")+o("Domain",e.domain)+o("Path",e.path)+o("Secure",e.secure)+o("SameSite",e.sameSite)}(n)}function r(e){for(var t={},n=e?e.split("; "):[],o=/(%[\dA-F]{2})+/gi,i=0;i<n.length;i++){var r=n[i].split("="),s=r.slice(1).join("=");'"'===s.charAt(0)&&(s=s.slice(1,-1));try{t[r[0].replace(o,decodeURIComponent)]=s.replace(o,decodeURIComponent)}catch(e){}}return t}function s(){return r(document.cookie)}function a(e,t,o){document.cookie=i(e,t,n({path:"/"},o))}t.__esModule=!0,t.encode=i,t.parse=r,t.getAll=s,t.get=function(e){return s()[e]},t.set=a,t.remove=function(e,t){a(e,"",n(n({},t),{expires:-1}))}}));_(he),he.encode,he.parse,he.getAll;var pe=he.get,fe=he.set,me=he.remove,ye={get:function(e){var t=pe(e);if(void 0!==t)return JSON.parse(t)},save:function(e,t,n){var o={};"https:"===window.location.protocol&&(o={secure:!0,sameSite:"none"}),(null==n?void 0:n.daysUntilExpire)&&(o.expires=n.daysUntilExpire),(null==n?void 0:n.cookieDomain)&&(o.domain=n.cookieDomain),fe(e,JSON.stringify(t),o)},remove:function(e,t){var n={};(null==t?void 0:t.cookieDomain)&&(n.domain=t.cookieDomain),me(e,n)}},ve="_legacy_",be={get:function(e){var t=ye.get(e);return t||ye.get("".concat(ve).concat(e))},save:function(e,t,n){var o={};"https:"===window.location.protocol&&(o={secure:!0}),(null==n?void 0:n.daysUntilExpire)&&(o.expires=n.daysUntilExpire),fe("".concat(ve).concat(e),JSON.stringify(t),o),ye.save(e,t,n)},remove:function(e,t){var n={};(null==t?void 0:t.cookieDomain)&&(n.domain=t.cookieDomain),me(e,n),ye.remove(e,t),ye.remove("".concat(ve).concat(e),t)}},we={get:function(e){if("undefined"!=typeof sessionStorage){var t=sessionStorage.getItem(e);if(void 0!==t)return JSON.parse(t)}},save:function(e,t){sessionStorage.setItem(e,JSON.stringify(t))},remove:function(e){sessionStorage.removeItem(e)}};function ge(e,t,n){var o=void 0===t?null:t,i=function(e,t){var n=atob(e);if(t){for(var o=new Uint8Array(n.length),i=0,r=n.length;i<r;++i)o[i]=n.charCodeAt(i);return String.fromCharCode.apply(null,new Uint16Array(o.buffer))}return n}(e,void 0!==n&&n),r=i.indexOf("\n",10)+1,s=i.substring(r)+(o?"//# sourceMappingURL="+o:""),a=new Blob([s],{type:"application/javascript"});return URL.createObjectURL(a)}var ke,_e,Se,Ie,Ce=(ke="Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7dmFyIHQ9ZnVuY3Rpb24oZSxyKXtyZXR1cm4gdD1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24odCxlKXt0Ll9fcHJvdG9fXz1lfXx8ZnVuY3Rpb24odCxlKXtmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSl9LHQoZSxyKX07ZnVuY3Rpb24gZShlLHIpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiByJiZudWxsIT09cil0aHJvdyBuZXcgVHlwZUVycm9yKCJDbGFzcyBleHRlbmRzIHZhbHVlICIrU3RyaW5nKHIpKyIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbCIpO2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPWV9dChlLHIpLGUucHJvdG90eXBlPW51bGw9PT1yP09iamVjdC5jcmVhdGUocik6KG4ucHJvdG90eXBlPXIucHJvdG90eXBlLG5ldyBuKX12YXIgcj1mdW5jdGlvbigpe3JldHVybiByPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxyPTEsbj1hcmd1bWVudHMubGVuZ3RoO3I8bjtyKyspZm9yKHZhciBvIGluIGU9YXJndW1lbnRzW3JdKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLG8pJiYodFtvXT1lW29dKTtyZXR1cm4gdH0sci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2Z1bmN0aW9uIG4odCxlLHIsbil7cmV0dXJuIG5ldyhyfHwocj1Qcm9taXNlKSkoKGZ1bmN0aW9uKG8sYyl7ZnVuY3Rpb24gaSh0KXt0cnl7cyhuLm5leHQodCkpfWNhdGNoKHQpe2ModCl9fWZ1bmN0aW9uIGEodCl7dHJ5e3Mobi50aHJvdyh0KSl9Y2F0Y2godCl7Yyh0KX19ZnVuY3Rpb24gcyh0KXt2YXIgZTt0LmRvbmU/byh0LnZhbHVlKTooZT10LnZhbHVlLGUgaW5zdGFuY2VvZiByP2U6bmV3IHIoKGZ1bmN0aW9uKHQpe3QoZSl9KSkpLnRoZW4oaSxhKX1zKChuPW4uYXBwbHkodCxlfHxbXSkpLm5leHQoKSl9KSl9ZnVuY3Rpb24gbyh0LGUpe3ZhciByLG4sbyxjLGk9e2xhYmVsOjAsc2VudDpmdW5jdGlvbigpe2lmKDEmb1swXSl0aHJvdyBvWzFdO3JldHVybiBvWzFdfSx0cnlzOltdLG9wczpbXX07cmV0dXJuIGM9e25leHQ6YSgwKSx0aHJvdzphKDEpLHJldHVybjphKDIpfSwiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYoY1tTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxjO2Z1bmN0aW9uIGEoYyl7cmV0dXJuIGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihjKXtpZihyKXRocm93IG5ldyBUeXBlRXJyb3IoIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy4iKTtmb3IoO2k7KXRyeXtpZihyPTEsbiYmKG89MiZjWzBdP24ucmV0dXJuOmNbMF0/bi50aHJvd3x8KChvPW4ucmV0dXJuKSYmby5jYWxsKG4pLDApOm4ubmV4dCkmJiEobz1vLmNhbGwobixjWzFdKSkuZG9uZSlyZXR1cm4gbztzd2l0Y2gobj0wLG8mJihjPVsyJmNbMF0sby52YWx1ZV0pLGNbMF0pe2Nhc2UgMDpjYXNlIDE6bz1jO2JyZWFrO2Nhc2UgNDpyZXR1cm4gaS5sYWJlbCsrLHt2YWx1ZTpjWzFdLGRvbmU6ITF9O2Nhc2UgNTppLmxhYmVsKyssbj1jWzFdLGM9WzBdO2NvbnRpbnVlO2Nhc2UgNzpjPWkub3BzLnBvcCgpLGkudHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKCEobz1pLnRyeXMsKG89by5sZW5ndGg+MCYmb1tvLmxlbmd0aC0xXSl8fDYhPT1jWzBdJiYyIT09Y1swXSkpe2k9MDtjb250aW51ZX1pZigzPT09Y1swXSYmKCFvfHxjWzFdPm9bMF0mJmNbMV08b1szXSkpe2kubGFiZWw9Y1sxXTticmVha31pZig2PT09Y1swXSYmaS5sYWJlbDxvWzFdKXtpLmxhYmVsPW9bMV0sbz1jO2JyZWFrfWlmKG8mJmkubGFiZWw8b1syXSl7aS5sYWJlbD1vWzJdLGkub3BzLnB1c2goYyk7YnJlYWt9b1syXSYmaS5vcHMucG9wKCksaS50cnlzLnBvcCgpO2NvbnRpbnVlfWM9ZS5jYWxsKHQsaSl9Y2F0Y2godCl7Yz1bNix0XSxuPTB9ZmluYWxseXtyPW89MH1pZig1JmNbMF0pdGhyb3cgY1sxXTtyZXR1cm57dmFsdWU6Y1swXT9jWzFdOnZvaWQgMCxkb25lOiEwfX0oW2MsYV0pfX19ZnVuY3Rpb24gYyh0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT1bXSksdCYmIWUuaW5jbHVkZXModCk/dDoiIn12YXIgaT1mdW5jdGlvbih0KXtmdW5jdGlvbiByKGUsbil7dmFyIG89dC5jYWxsKHRoaXMsbil8fHRoaXM7cmV0dXJuIG8uZXJyb3I9ZSxvLmVycm9yX2Rlc2NyaXB0aW9uPW4sT2JqZWN0LnNldFByb3RvdHlwZU9mKG8sci5wcm90b3R5cGUpLG99cmV0dXJuIGUocix0KSxyLmZyb21QYXlsb2FkPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgcih0LmVycm9yLHQuZXJyb3JfZGVzY3JpcHRpb24pfSxyfShFcnJvcik7IWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIHIoZSxuLG8sYyl7dm9pZCAwPT09YyYmKGM9bnVsbCk7dmFyIGk9dC5jYWxsKHRoaXMsZSxuKXx8dGhpcztyZXR1cm4gaS5zdGF0ZT1vLGkuYXBwU3RhdGU9YyxPYmplY3Quc2V0UHJvdG90eXBlT2YoaSxyLnByb3RvdHlwZSksaX1lKHIsdCl9KGkpLGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIHIoZSl7dmFyIG49dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBuLnBvcHVwPWUsT2JqZWN0LnNldFByb3RvdHlwZU9mKG4sci5wcm90b3R5cGUpLG59ZShyLHQpfShmdW5jdGlvbih0KXtmdW5jdGlvbiByKCl7dmFyIGU9dC5jYWxsKHRoaXMsInRpbWVvdXQiLCJUaW1lb3V0Iil8fHRoaXM7cmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZihlLHIucHJvdG90eXBlKSxlfXJldHVybiBlKHIsdCkscn0oaSkpLGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIHIoZSl7dmFyIG49dC5jYWxsKHRoaXMsImNhbmNlbGxlZCIsIlBvcHVwIGNsb3NlZCIpfHx0aGlzO3JldHVybiBuLnBvcHVwPWUsT2JqZWN0LnNldFByb3RvdHlwZU9mKG4sci5wcm90b3R5cGUpLG59ZShyLHQpfShpKSxmdW5jdGlvbih0KXtmdW5jdGlvbiByKGUsbixvKXt2YXIgYz10LmNhbGwodGhpcyxlLG4pfHx0aGlzO3JldHVybiBjLm1mYV90b2tlbj1vLE9iamVjdC5zZXRQcm90b3R5cGVPZihjLHIucHJvdG90eXBlKSxjfWUocix0KX0oaSk7dmFyIGE9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gcihlLG4pe3ZhciBvPXQuY2FsbCh0aGlzLCJtaXNzaW5nX3JlZnJlc2hfdG9rZW4iLCJNaXNzaW5nIFJlZnJlc2ggVG9rZW4gKGF1ZGllbmNlOiAnIi5jb25jYXQoYyhlLFsiZGVmYXVsdCJdKSwiJywgc2NvcGU6ICciKS5jb25jYXQoYyhuKSwiJykiKSl8fHRoaXM7cmV0dXJuIG8uYXVkaWVuY2U9ZSxvLnNjb3BlPW4sT2JqZWN0LnNldFByb3RvdHlwZU9mKG8sci5wcm90b3R5cGUpLG99cmV0dXJuIGUocix0KSxyfShpKSxzPXt9LHU9ZnVuY3Rpb24odCxlKXtyZXR1cm4iIi5jb25jYXQodCwifCIpLmNvbmNhdChlKX07YWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGZ1bmN0aW9uKHQpe3ZhciBlPXQuZGF0YSxjPWUudGltZW91dCxpPWUuYXV0aCxmPWUuZmV0Y2hVcmwsbD1lLmZldGNoT3B0aW9ucyxwPWUudXNlRm9ybURhdGEsaD1mdW5jdGlvbih0LGUpe3ZhciByPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJnRbU3ltYm9sLml0ZXJhdG9yXTtpZighcilyZXR1cm4gdDt2YXIgbixvLGM9ci5jYWxsKHQpLGk9W107dHJ5e2Zvcig7KHZvaWQgMD09PWV8fGUtLSA+MCkmJiEobj1jLm5leHQoKSkuZG9uZTspaS5wdXNoKG4udmFsdWUpfWNhdGNoKHQpe289e2Vycm9yOnR9fWZpbmFsbHl7dHJ5e24mJiFuLmRvbmUmJihyPWMucmV0dXJuKSYmci5jYWxsKGMpfWZpbmFsbHl7aWYobyl0aHJvdyBvLmVycm9yfX1yZXR1cm4gaX0odC5wb3J0cywxKVswXTtyZXR1cm4gbih2b2lkIDAsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgdCxlLG4seSx2LGIsZCx3LE8sXztyZXR1cm4gbyh0aGlzLChmdW5jdGlvbihvKXtzd2l0Y2goby5sYWJlbCl7Y2FzZSAwOm49KGU9aXx8e30pLmF1ZGllbmNlLHk9ZS5zY29wZSxvLmxhYmVsPTE7Y2FzZSAxOmlmKG8udHJ5cy5wdXNoKFsxLDcsLDhdKSwhKHY9cD8obT1sLmJvZHksaz1uZXcgVVJMU2VhcmNoUGFyYW1zKG0pLFA9e30say5mb3JFYWNoKChmdW5jdGlvbih0LGUpe1BbZV09dH0pKSxQKTpKU09OLnBhcnNlKGwuYm9keSkpLnJlZnJlc2hfdG9rZW4mJiJyZWZyZXNoX3Rva2VuIj09PXYuZ3JhbnRfdHlwZSl7aWYoYj1mdW5jdGlvbih0LGUpe3JldHVybiBzW3UodCxlKV19KG4seSksIWIpdGhyb3cgbmV3IGEobix5KTtsLmJvZHk9cD9uZXcgVVJMU2VhcmNoUGFyYW1zKHIocih7fSx2KSx7cmVmcmVzaF90b2tlbjpifSkpLnRvU3RyaW5nKCk6SlNPTi5zdHJpbmdpZnkocihyKHt9LHYpLHtyZWZyZXNoX3Rva2VuOmJ9KSl9ZD12b2lkIDAsImZ1bmN0aW9uIj09dHlwZW9mIEFib3J0Q29udHJvbGxlciYmKGQ9bmV3IEFib3J0Q29udHJvbGxlcixsLnNpZ25hbD1kLnNpZ25hbCksdz12b2lkIDAsby5sYWJlbD0yO2Nhc2UgMjpyZXR1cm4gby50cnlzLnB1c2goWzIsNCwsNV0pLFs0LFByb21pc2UucmFjZShbKGc9YyxuZXcgUHJvbWlzZSgoZnVuY3Rpb24odCl7cmV0dXJuIHNldFRpbWVvdXQodCxnKX0pKSksZmV0Y2goZixyKHt9LGwpKV0pXTtjYXNlIDM6cmV0dXJuIHc9by5zZW50KCksWzMsNV07Y2FzZSA0OnJldHVybiBPPW8uc2VudCgpLGgucG9zdE1lc3NhZ2Uoe2Vycm9yOk8ubWVzc2FnZX0pLFsyXTtjYXNlIDU6cmV0dXJuIHc/WzQsdy5qc29uKCldOihkJiZkLmFib3J0KCksaC5wb3N0TWVzc2FnZSh7ZXJyb3I6IlRpbWVvdXQgd2hlbiBleGVjdXRpbmcgJ2ZldGNoJyJ9KSxbMl0pO2Nhc2UgNjpyZXR1cm4odD1vLnNlbnQoKSkucmVmcmVzaF90b2tlbj8oZnVuY3Rpb24odCxlLHIpe3NbdShlLHIpXT10fSh0LnJlZnJlc2hfdG9rZW4sbix5KSxkZWxldGUgdC5yZWZyZXNoX3Rva2VuKTpmdW5jdGlvbih0LGUpe2RlbGV0ZSBzW3UodCxlKV19KG4seSksaC5wb3N0TWVzc2FnZSh7b2s6dy5vayxqc29uOnR9KSxbMyw4XTtjYXNlIDc6cmV0dXJuIF89by5zZW50KCksaC5wb3N0TWVzc2FnZSh7b2s6ITEsanNvbjp7ZXJyb3JfZGVzY3JpcHRpb246Xy5tZXNzYWdlfX0pLFszLDhdO2Nhc2UgODpyZXR1cm5bMl19dmFyIGcsbSxrLFB9KSl9KSl9KSl9KCk7Cgo=",_e=null,Se=!1,function(e){return Ie=Ie||ge(ke,_e,Se),new Worker(Ie,e)}),Ze={},xe=function(){function e(e,t){this.cache=e,this.clientId=t,this.manifestKey=this.createManifestKeyFrom(this.clientId)}return e.prototype.add=function(e){var t;return i(this,void 0,void 0,(function(){var n,o;return r(this,(function(i){switch(i.label){case 0:return o=Set.bind,[4,this.cache.get(this.manifestKey)];case 1:return(n=new(o.apply(Set,[void 0,(null===(t=i.sent())||void 0===t?void 0:t.keys)||[]]))).add(e),[4,this.cache.set(this.manifestKey,{keys:a([],s(n),!1)})];case 2:return i.sent(),[2]}}))}))},e.prototype.remove=function(e){return i(this,void 0,void 0,(function(){var t,n;return r(this,(function(o){switch(o.label){case 0:return[4,this.cache.get(this.manifestKey)];case 1:return(t=o.sent())?((n=new Set(t.keys)).delete(e),n.size>0?[4,this.cache.set(this.manifestKey,{keys:a([],s(n),!1)})]:[3,3]):[3,5];case 2:case 4:return[2,o.sent()];case 3:return[4,this.cache.remove(this.manifestKey)];case 5:return[2]}}))}))},e.prototype.get=function(){return this.cache.get(this.manifestKey)},e.prototype.clear=function(){return this.cache.remove(this.manifestKey)},e.prototype.createManifestKeyFrom=function(e){return"".concat(oe,"::").concat(e)},e}(),We=new Z,Xe="auth0.lock.getTokenSilently",Ge="auth0.is.authenticated",Le={memory:function(){return(new se).enclosedCache},localstorage:function(){return new re}},Te=function(e){return Le[e]},Ke=function(){return!/Trident.*rv:11\.0/.test(navigator.userAgent)},je=function(){function e(e){var t,n,s,a,c=this;if(this.options=e,this._releaseLockOnPageHide=function(){return i(c,void 0,void 0,(function(){return r(this,(function(e){switch(e.label){case 0:return[4,We.releaseLock(Xe)];case 1:return e.sent(),window.removeEventListener("pagehide",this._releaseLockOnPageHide),[2]}}))}))},"undefined"!=typeof window&&function(){if(!N())throw new Error("For security reasons, `window.crypto` is required to run `auth0-spa-js`.");if(void 0===F())throw new Error("\n      auth0-spa-js must run on a secure origin. See https://github.com/auth0/auth0-spa-js/blob/master/FAQ.md#why-do-i-get-auth0-spa-js-must-run-on-a-secure-origin for more information.\n    ")}(),e.cache&&e.cacheLocation&&console.warn("Both `cache` and `cacheLocation` options have been specified in the Auth0Client configuration; ignoring `cacheLocation` and using `cache`."),e.cache)s=e.cache;else{if(this.cacheLocation=e.cacheLocation||W,!Te(this.cacheLocation))throw new Error('Invalid cache location "'.concat(this.cacheLocation,'"'));s=Te(this.cacheLocation)()}this.httpTimeoutMs=e.httpTimeoutInSeconds?1e3*e.httpTimeoutInSeconds:1e4,this.cookieStorage=!1===e.legacySameSiteCookie?ye:be,this.orgHintCookieName=(a=this.options.client_id,"auth0.".concat(a,".organization_hint")),this.isAuthenticatedCookieName=function(e){return"auth0.".concat(e,".is.authenticated")}(this.options.client_id),this.sessionCheckExpiryDays=e.sessionCheckExpiryDays||1;var u,l=e.useCookiesForTransactions?this.cookieStorage:we;this.scope=this.options.scope,this.transactionManager=new ce(l,this.options.client_id),this.nowProvider=this.options.nowProvider||L,this.cacheManager=new ae(s,s.allKeys?null:new xe(s,this.options.client_id),this.nowProvider),this.domainUrl=(u=this.options.domain,/^https?:\/\//.test(u)?u:"https://".concat(u)),this.tokenIssuer=function(e,t){return e?e.startsWith("https://")?e:"https://".concat(e,"/"):"".concat(t,"/")}(this.options.issuer,this.domainUrl),this.defaultScope=ne("openid",void 0!==(null===(n=null===(t=this.options)||void 0===t?void 0:t.advancedOptions)||void 0===n?void 0:n.defaultScope)?this.options.advancedOptions.defaultScope:"openid profile email"),this.options.useRefreshTokens&&(this.scope=ne(this.scope,"offline_access")),"undefined"!=typeof window&&window.Worker&&this.options.useRefreshTokens&&this.cacheLocation===W&&Ke()&&(this.worker=new Ce),this.customOptions=function(e){return e.advancedOptions,e.audience,e.auth0Client,e.authorizeTimeoutInSeconds,e.cacheLocation,e.cache,e.client_id,e.domain,e.issuer,e.leeway,e.max_age,e.nowProvider,e.redirect_uri,e.scope,e.useRefreshTokens,e.useRefreshTokensFallback,e.useCookiesForTransactions,e.useFormData,o(e,["advancedOptions","audience","auth0Client","authorizeTimeoutInSeconds","cacheLocation","cache","client_id","domain","issuer","leeway","max_age","nowProvider","redirect_uri","scope","useRefreshTokens","useRefreshTokensFallback","useCookiesForTransactions","useFormData"])}(e),this.useRefreshTokensFallback=!1!==this.options.useRefreshTokensFallback}return e.prototype._url=function(e){var t=encodeURIComponent(btoa(JSON.stringify(this.options.auth0Client||G)));return"".concat(this.domainUrl).concat(e,"&auth0Client=").concat(t)},e.prototype._getParams=function(e,t,i,r,s){var a=this.options;a.useRefreshTokens,a.useCookiesForTransactions,a.useFormData,a.auth0Client,a.cacheLocation,a.advancedOptions,a.detailedResponse,a.nowProvider,a.authorizeTimeoutInSeconds,a.legacySameSiteCookie,a.sessionCheckExpiryDays,a.domain,a.leeway,a.httpTimeoutInSeconds;var c=o(a,["useRefreshTokens","useCookiesForTransactions","useFormData","auth0Client","cacheLocation","advancedOptions","detailedResponse","nowProvider","authorizeTimeoutInSeconds","legacySameSiteCookie","sessionCheckExpiryDays","domain","leeway","httpTimeoutInSeconds"]);return n(n(n({},c),e),{scope:ne(this.defaultScope,this.scope,e.scope),response_type:"code",response_mode:"query",state:t,nonce:i,redirect_uri:s||this.options.redirect_uri,code_challenge:r,code_challenge_method:"S256"})},e.prototype._authorizeUrl=function(e,t){return void 0===t&&(t="authorize"),this._url("/".concat(t,"?").concat(z(e)))},e.prototype._verifyIdToken=function(e,t,n){return i(this,void 0,void 0,(function(){var o;return r(this,(function(i){switch(i.label){case 0:return[4,this.nowProvider()];case 1:return o=i.sent(),[2,de({iss:this.tokenIssuer,aud:this.options.client_id,id_token:e,nonce:t,organizationId:n,leeway:this.options.leeway,max_age:this._parseNumber(this.options.max_age),now:o})]}}))}))},e.prototype._parseNumber=function(e){return"string"!=typeof e?e:parseInt(e,10)||void 0},e.prototype._processOrgIdHint=function(e){e?this.cookieStorage.save(this.orgHintCookieName,e,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}):this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain})},e.prototype.buildAuthorizeUrl=function(e){return void 0===e&&(e={}),i(this,void 0,void 0,(function(){var t,i,s,a,c,u,l,d,h,p,f,m,y;return r(this,(function(r){switch(r.label){case 0:return t=e.redirect_uri,i=e.appState,s=o(e,["redirect_uri","appState"]),a=P(U()),c=P(U()),u=U(),[4,O(u)];case 1:return l=r.sent(),d=E(l),h=e.fragment?"#".concat(e.fragment):"",p=this._getParams(s,a,c,d,t),f=e.authorizePath||this.options.authorizePath,m=this._authorizeUrl(p,f),y=e.organization||this.options.organization,this.transactionManager.create(n({nonce:c,code_verifier:u,appState:i,scope:p.scope,audience:p.audience||"default",redirect_uri:p.redirect_uri,state:a},y&&{organizationId:y})),[2,m+h]}}))}))},e.prototype.loginWithPopup=function(e,t){return i(this,void 0,void 0,(function(){var i,s,a,c,u,l,d,h,p,f,m,y,v,b;return r(this,(function(r){switch(r.label){case 0:if(e=e||{},!(t=t||{}).popup&&(t.popup=function(e){var t=window.screenX+(window.innerWidth-400)/2,n=window.screenY+(window.innerHeight-600)/2;return window.open(e,"auth0:authorize:popup","left=".concat(t,",top=").concat(n,",width=").concat(400,",height=").concat(600,",resizable,scrollbars=yes,status=1"))}(""),!t.popup))throw new Error("Unable to open a popup for loginWithPopup - window.open returned `null`");return i=o(e,[]),s=P(U()),a=P(U()),c=U(),[4,O(c)];case 1:return u=r.sent(),l=E(u),d=this._getParams(i,s,a,l,this.options.redirect_uri||window.location.origin),h=e.authorizePath||this.options.authorizePath,p=this._authorizeUrl(n(n({},d),{response_mode:"web_message"}),h),t.popup.location.href=p,[4,Y(n(n({},t),{timeoutInSeconds:t.timeoutInSeconds||this.options.authorizeTimeoutInSeconds||60}))];case 2:if(f=r.sent(),s!==f.state)throw new Error("Invalid state");return[4,ee({audience:d.audience,scope:d.scope,baseUrl:this.domainUrl,client_id:this.options.client_id,code_verifier:c,code:f.code,grant_type:"authorization_code",redirect_uri:d.redirect_uri,auth0Client:this.options.auth0Client,useFormData:this.options.useFormData,timeout:this.httpTimeoutMs},this.worker)];case 3:return m=r.sent(),y=e.organization||this.options.organization,[4,this._verifyIdToken(m.id_token,a,y)];case 4:return v=r.sent(),b=n(n({},m),{decodedToken:v,scope:d.scope,audience:d.audience||"default",client_id:this.options.client_id}),[4,this.cacheManager.set(b)];case 5:return r.sent(),this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this._processOrgIdHint(v.claims.org_id),[2]}}))}))},e.prototype.getUser=function(e){return void 0===e&&(e={}),i(this,void 0,void 0,(function(){var t,n,o;return r(this,(function(i){switch(i.label){case 0:return t=e.audience||this.options.audience||"default",n=ne(this.defaultScope,this.scope,e.scope),[4,this.cacheManager.get(new ie({client_id:this.options.client_id,audience:t,scope:n}))];case 1:return[2,(o=i.sent())&&o.decodedToken&&o.decodedToken.user]}}))}))},e.prototype.getIdTokenClaims=function(e){return void 0===e&&(e={}),i(this,void 0,void 0,(function(){var t,n,o;return r(this,(function(i){switch(i.label){case 0:return t=e.audience||this.options.audience||"default",n=ne(this.defaultScope,this.scope,e.scope),[4,this.cacheManager.get(new ie({client_id:this.options.client_id,audience:t,scope:n}))];case 1:return[2,(o=i.sent())&&o.decodedToken&&o.decodedToken.claims]}}))}))},e.prototype.loginWithRedirect=function(e){return void 0===e&&(e={}),i(this,void 0,void 0,(function(){var t,n,i;return r(this,(function(r){switch(r.label){case 0:return t=e.redirectMethod,n=o(e,["redirectMethod"]),[4,this.buildAuthorizeUrl(n)];case 1:return i=r.sent(),window.location[t||"assign"](i),[2]}}))}))},e.prototype.handleRedirectCallback=function(e){return void 0===e&&(e=window.location.href),i(this,void 0,void 0,(function(){var t,o,i,a,c,u,l,d,h,p;return r(this,(function(r){switch(r.label){case 0:if(0===(t=e.split("?").slice(1)).length)throw new Error("There are no query params available for parsing.");if(o=function(e){e.indexOf("#")>-1&&(e=e.substr(0,e.indexOf("#")));var t=e.split("&"),n={};return t.forEach((function(e){var t=s(e.split("="),2),o=t[0],i=t[1];n[o]=decodeURIComponent(i)})),n.expires_in&&(n.expires_in=parseInt(n.expires_in)),n}(t.join("")),i=o.state,a=o.code,c=o.error,u=o.error_description,!(l=this.transactionManager.get()))throw new Error("Invalid state");if(this.transactionManager.remove(),c)throw new K(c,u,i,l.appState);if(!l.code_verifier||l.state&&l.state!==i)throw new Error("Invalid state");return d={audience:l.audience,scope:l.scope,baseUrl:this.domainUrl,client_id:this.options.client_id,code_verifier:l.code_verifier,grant_type:"authorization_code",code:a,auth0Client:this.options.auth0Client,useFormData:this.options.useFormData,timeout:this.httpTimeoutMs},void 0!==l.redirect_uri&&(d.redirect_uri=l.redirect_uri),[4,ee(d,this.worker)];case 1:return h=r.sent(),[4,this._verifyIdToken(h.id_token,l.nonce,l.organizationId)];case 2:return p=r.sent(),[4,this.cacheManager.set(n(n(n(n({},h),{decodedToken:p,audience:l.audience,scope:l.scope}),h.scope?{oauthTokenScope:h.scope}:null),{client_id:this.options.client_id}))];case 3:return r.sent(),this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this._processOrgIdHint(p.claims.org_id),[2,{appState:l.appState}]}}))}))},e.prototype.checkSession=function(e){return i(this,void 0,void 0,(function(){var t;return r(this,(function(n){switch(n.label){case 0:if(!this.cookieStorage.get(this.isAuthenticatedCookieName)){if(!this.cookieStorage.get(Ge))return[2];this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove(Ge)}n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.getTokenSilently(e)];case 2:return n.sent(),[3,4];case 3:if(t=n.sent(),!X.includes(t.error))throw t;return[3,4];case 4:return[2]}}))}))},e.prototype.getTokenSilently=function(e){return void 0===e&&(e={}),i(this,void 0,void 0,(function(){var t,i,s,a,c=this;return r(this,(function(r){switch(r.label){case 0:return t=n(n({audience:this.options.audience,ignoreCache:!1},e),{scope:ne(this.defaultScope,this.scope,e.scope)}),i=t.ignoreCache,s=o(t,["ignoreCache"]),[4,(u=function(){return c._getTokenSilently(n({ignoreCache:i},s))},l="".concat(this.options.client_id,"::").concat(s.audience,"::").concat(s.scope),d=Ze[l],d||(d=u().finally((function(){delete Ze[l],d=null})),Ze[l]=d),d)];case 1:return a=r.sent(),[2,e.detailedResponse?a:a.access_token]}var u,l,d}))}))},e.prototype._getTokenSilently=function(e){return void 0===e&&(e={}),i(this,void 0,void 0,(function(){var t,s,a,c,u,l,d,h,p;return r(this,(function(f){switch(f.label){case 0:return t=e.ignoreCache,s=o(e,["ignoreCache"]),t?[3,2]:[4,this._getEntryFromCache({scope:s.scope,audience:s.audience||"default",client_id:this.options.client_id})];case 1:if(a=f.sent())return[2,a];f.label=2;case 2:return[4,(m=function(){return We.acquireLock(Xe,5e3)},y=10,void 0===y&&(y=3),i(void 0,void 0,void 0,(function(){var e;return r(this,(function(t){switch(t.label){case 0:e=0,t.label=1;case 1:return e<y?[4,m()]:[3,4];case 2:if(t.sent())return[2,!0];t.label=3;case 3:return e++,[3,1];case 4:return[2,!1]}}))})))];case 3:if(!f.sent())return[3,15];f.label=4;case 4:return f.trys.push([4,,12,14]),window.addEventListener("pagehide",this._releaseLockOnPageHide),t?[3,6]:[4,this._getEntryFromCache({scope:s.scope,audience:s.audience||"default",client_id:this.options.client_id})];case 5:if(a=f.sent())return[2,a];f.label=6;case 6:return this.options.useRefreshTokens?[4,this._getTokenUsingRefreshToken(s)]:[3,8];case 7:return u=f.sent(),[3,10];case 8:return[4,this._getTokenFromIFrame(s)];case 9:u=f.sent(),f.label=10;case 10:return c=u,[4,this.cacheManager.set(n({client_id:this.options.client_id},c))];case 11:return f.sent(),this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),l=c.id_token,d=c.access_token,h=c.oauthTokenScope,p=c.expires_in,[2,n(n({id_token:l,access_token:d},h?{scope:h}:null),{expires_in:p})];case 12:return[4,We.releaseLock(Xe)];case 13:return f.sent(),window.removeEventListener("pagehide",this._releaseLockOnPageHide),[7];case 14:return[3,16];case 15:throw new j;case 16:return[2]}var m,y}))}))},e.prototype.getTokenWithPopup=function(e,t){return void 0===e&&(e={}),void 0===t&&(t={}),i(this,void 0,void 0,(function(){return r(this,(function(o){switch(o.label){case 0:return e.audience=e.audience||this.options.audience,e.scope=ne(this.defaultScope,this.scope,e.scope),t=n(n({},x),t),[4,this.loginWithPopup(e,t)];case 1:return o.sent(),[4,this.cacheManager.get(new ie({scope:e.scope,audience:e.audience||"default",client_id:this.options.client_id}))];case 2:return[2,o.sent().access_token]}}))}))},e.prototype.isAuthenticated=function(){return i(this,void 0,void 0,(function(){return r(this,(function(e){switch(e.label){case 0:return[4,this.getUser()];case 1:return[2,!!e.sent()]}}))}))},e.prototype.buildLogoutUrl=function(e){void 0===e&&(e={}),null!==e.client_id?e.client_id=e.client_id||this.options.client_id:delete e.client_id;var t=e.federated,n=o(e,["federated"]),i=t?"&federated":"";return this._url("/v2/logout?".concat(z(n)))+i},e.prototype.logout=function(e){var t=this;void 0===e&&(e={});var n=e.localOnly,i=o(e,["localOnly"]);if(n&&i.federated)throw new Error("It is invalid to set both the `federated` and `localOnly` options to `true`");var r=function(){if(t.cookieStorage.remove(t.orgHintCookieName,{cookieDomain:t.options.cookieDomain}),t.cookieStorage.remove(t.isAuthenticatedCookieName,{cookieDomain:t.options.cookieDomain}),!n){var e=t.buildLogoutUrl(i);window.location.assign(e)}};if(this.options.cache)return this.cacheManager.clear().then((function(){return r()}));this.cacheManager.clearSync(),r()},e.prototype._getTokenFromIFrame=function(e){return i(this,void 0,void 0,(function(){var t,i,s,a,c,u,l,d,h,p,f,m,y,v,b,w,g,k;return r(this,(function(r){switch(r.label){case 0:return t=P(U()),i=P(U()),s=U(),[4,O(s)];case 1:a=r.sent(),c=E(a),e.detailedResponse,u=o(e,["detailedResponse"]),l=this._getParams(u,t,i,c,e.redirect_uri||this.options.redirect_uri||window.location.origin),d=e.authorizePath||this.options.authorizePath,(h=this.cookieStorage.get(this.orgHintCookieName))&&!l.organization&&(l.organization=h),p=this._authorizeUrl(n(n({},l),{prompt:"none",response_mode:"web_message"}),d),r.label=2;case 2:if(r.trys.push([2,6,,7]),window.crossOriginIsolated)throw new T("login_required","The application is running in a Cross-Origin Isolated context, silently retrieving a token without refresh token is not possible.");return f=e.timeoutInSeconds||this.options.authorizeTimeoutInSeconds,[4,(_=p,S=this.domainUrl,I=f,void 0===I&&(I=60),new Promise((function(e,t){var n=window.document.createElement("iframe");n.setAttribute("width","0"),n.setAttribute("height","0"),n.style.display="none";var o,i=function(){window.document.body.contains(n)&&(window.document.body.removeChild(n),window.removeEventListener("message",o,!1))},r=setTimeout((function(){t(new j),i()}),1e3*I);o=function(n){if(n.origin==S&&n.data&&"authorization_response"===n.data.type){var s=n.source;s&&s.close(),n.data.response.error?t(T.fromPayload(n.data.response)):e(n.data.response),clearTimeout(r),window.removeEventListener("message",o,!1),setTimeout(i,2e3)}},window.addEventListener("message",o,!1),window.document.body.appendChild(n),n.setAttribute("src",_)})))];case 3:if(m=r.sent(),t!==m.state)throw new Error("Invalid state");return y=e.scope,v=e.audience,e.redirect_uri,e.ignoreCache,e.timeoutInSeconds,e.detailedResponse,b=o(e,["scope","audience","redirect_uri","ignoreCache","timeoutInSeconds","detailedResponse"]),[4,ee(n(n(n({},this.customOptions),b),{scope:y,audience:v,baseUrl:this.domainUrl,client_id:this.options.client_id,code_verifier:s,code:m.code,grant_type:"authorization_code",redirect_uri:l.redirect_uri,auth0Client:this.options.auth0Client,useFormData:this.options.useFormData,timeout:b.timeout||this.httpTimeoutMs}),this.worker)];case 4:return w=r.sent(),[4,this._verifyIdToken(w.id_token,i)];case 5:return g=r.sent(),this._processOrgIdHint(g.claims.org_id),[2,n(n({},w),{decodedToken:g,scope:l.scope,oauthTokenScope:w.scope,audience:l.audience||"default"})];case 6:throw"login_required"===(k=r.sent()).error&&this.logout({localOnly:!0}),k;case 7:return[2]}var _,S,I}))}))},e.prototype._getTokenUsingRefreshToken=function(e){return i(this,void 0,void 0,(function(){var t,i,s,a,c,u,l,d,h;return r(this,(function(r){switch(r.label){case 0:return e.scope=ne(this.defaultScope,this.options.scope,e.scope),[4,this.cacheManager.get(new ie({scope:e.scope,audience:e.audience||"default",client_id:this.options.client_id}))];case 1:return(t=r.sent())&&t.refresh_token||this.worker?[3,4]:this.useRefreshTokensFallback?[4,this._getTokenFromIFrame(e)]:[3,3];case 2:return[2,r.sent()];case 3:throw new V(e.audience||"default",e.scope);case 4:i=e.redirect_uri||this.options.redirect_uri||window.location.origin,a=e.scope,c=e.audience,e.ignoreCache,e.timeoutInSeconds,e.detailedResponse,u=o(e,["scope","audience","ignoreCache","timeoutInSeconds","detailedResponse"]),l="number"==typeof e.timeoutInSeconds?1e3*e.timeoutInSeconds:null,r.label=5;case 5:return r.trys.push([5,7,,10]),[4,ee(n(n(n(n(n({},this.customOptions),u),{audience:c,scope:a,baseUrl:this.domainUrl,client_id:this.options.client_id,grant_type:"refresh_token",refresh_token:t&&t.refresh_token,redirect_uri:i}),l&&{timeout:l}),{auth0Client:this.options.auth0Client,useFormData:this.options.useFormData,timeout:this.httpTimeoutMs}),this.worker)];case 6:return s=r.sent(),[3,10];case 7:return((d=r.sent()).message.indexOf("Missing Refresh Token")>-1||d.message&&d.message.indexOf("invalid refresh token")>-1)&&this.useRefreshTokensFallback?[4,this._getTokenFromIFrame(e)]:[3,9];case 8:return[2,r.sent()];case 9:throw d;case 10:return[4,this._verifyIdToken(s.id_token)];case 11:return h=r.sent(),[2,n(n({},s),{decodedToken:h,scope:e.scope,oauthTokenScope:s.scope,audience:e.audience||"default"})]}}))}))},e.prototype._getEntryFromCache=function(e){var t=e.scope,o=e.audience,s=e.client_id;return i(this,void 0,void 0,(function(){var e,i,a,c,u;return r(this,(function(r){switch(r.label){case 0:return[4,this.cacheManager.get(new ie({scope:t,audience:o,client_id:s}),60)];case 1:return(e=r.sent())&&e.access_token?(i=e.id_token,a=e.access_token,c=e.oauthTokenScope,u=e.expires_in,[2,n(n({id_token:i,access_token:a},c?{scope:c}:null),{expires_in:u})]):[2]}}))}))},e}();function Re(e){return i(this,void 0,void 0,(function(){var t;return r(this,(function(n){switch(n.label){case 0:return[4,(t=new je(e)).checkSession()];case 1:return n.sent(),[2,t]}}))}))}var He=Re;return He.Auth0Client=je,He.createAuth0Client=Re,He.GenericError=T,He.AuthenticationError=K,He.TimeoutError=j,He.PopupTimeoutError=R,He.MfaRequiredError=J,He})),"Auth0Client"in this&&this.console&&this.console.warn&&this.console.warn("Auth0Client already declared on the global namespace"),this&&this.createAuth0Client&&(this.Auth0Client=this.Auth0Client||this.createAuth0Client.Auth0Client);
//# sourceMappingURL=auth0-spa-js.production.js.map
